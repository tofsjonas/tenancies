(this.webpackJsonptenancies=this.webpackJsonptenancies||[]).push([[0],{107:function(e,t,n){},129:function(e){e.exports=JSON.parse('{"overview_navbar_brand":"My Tenancies","overview_navbar_placeholder_search":"Search my tenancies...","overview_you_have_no_tenancies":"You have no tenancies, go ahead and add one!","add_tenancy_cancel_button":"Cancel","add_tenancy_save_button":"Save changes","add_tenancy_save_button_is_saving":"saving...","add_tenancy_start_typing_to_fetch":"Start typing to fetch address info:","add_tenancy_fetch_placeholder":"Enter address...","add_tenancy_modal_title":"Add new Tenancy","edit_tenancy_cancel_button":"Cancel","edit_tenancy_save_button":"Save changes","edit_tenancy_save_button_is_saving":"saving...","edit_tenancy_label_size":"Size (m2):","edit_tenancy_label_size_placeholder":"Enter size...","edit_tenancy_label_nbr_of_rooms":"Number of rooms:","edit_tenancy_label_nbr_of_rooms_placeholder":"Enter a number...","edit_tenancy_label_utilities":"Utilities:","edit_tenancy_label_utilities_placeholder":"List utilities...","edit_tenancy_label_tenant_information":"Information about tenant:","edit_tenancy_label_tenant_information_placeholder":"Enter information...","edit_tenancy_delete_button":"Delete Tenancy","edit_tenancy_delete_button_is_deleting":"deleting...","tenancy_item_breadcrumb_back_to_list":"My Tenancies"}')},130:function(e){e.exports=JSON.parse('{"overview_navbar_brand":"Mina fastigheter","overview_you_have_no_tenancies":"Du har inga fastigheter, vars\xe5god och l\xe4gg till en!","overview_navbar_placeholder_search":"S\xf6k","add_tenancy_cancel_button":"Avbryt","add_tenancy_save_button":"Spara adress","add_tenancy_save_button_is_saving":"sparar...","add_tenancy_start_typing_to_fetch":"B\xf6rja skriva f\xf6r att h\xe4mta adress:","add_tenancy_fetch_placeholder":"Adress...","add_tenancy_modal_title":"L\xe4gg till fastighet","edit_tenancy_cancel_button":"Avbryt","edit_tenancy_save_button":"Spara \xe4ndringar","edit_tenancy_save_button_is_saving":"sparar...","edit_tenancy_label_size":"Area (m2):","edit_tenancy_label_size_placeholder":"Area...","edit_tenancy_label_nbr_of_rooms":"Antal rum:","edit_tenancy_label_nbr_of_rooms_placeholder":"Antal rum...","edit_tenancy_label_utilities":"Verktyg?","edit_tenancy_label_utilities_placeholder":"Lista verktyg...","edit_tenancy_label_tenant_information":"Information om hyresg\xe4st:","edit_tenancy_label_tenant_information_placeholder":"Information...","edit_tenancy_delete_button":"Ta bort fastighet","edit_tenancy_delete_button_is_deleting":"tar bort...","tenancy_item_breadcrumb_back_to_list":"Mina fastigheter"}')},153:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(25),r=n.n(c),i=(n(107),n(45)),s=n(41),o=n(46),l=n(33),d=n(42),u=n(10),_=n(28),b=n(44),j=n(47),h=n(59),f=n(62),p=n(43),v=n(159),y=n(160),O=n(63),g=n(52),m=n(39),x=["en","sv"],S=localStorage.getItem("language")||"en";-1===x.indexOf(S)&&(S="en"),g.a.use(m.e).init({fallbackLng:"en",lng:S,resources:{en:{translations:n(129)},sv:{translations:n(130)}},ns:["translations"],defaultNS:"translations"}),g.a.languages=["en","sv"];g.a;var w,k,T=n(8),E=function(){var e=Object(y.a)().i18n,t=function(t){var n=t.target.value;localStorage.setItem("language",n),e.changeLanguage(n)};return Object(T.jsx)("div",{className:"LanguageToggler",children:x.map((function(n){return Object(T.jsx)(p.a,{variant:n===e.language?"dark":"light",onClick:t,value:n,children:n},n)}))})},A=n(90),C=(n(152),j.a.div(w||(w=Object(b.a)(["\n  #async-tenancy-search {\n    min-width: 20rem;\n  }\n"])))),N=function(e){var t=e.tenancies,n=Object(y.a)().t,c=Object(u.g)(),r=Object(a.useState)([]),i=Object(_.a)(r,2),s=i[0];i[1];return Object(T.jsx)(C,{children:Object(T.jsx)(A.b,{id:"async-tenancy-search",labelKey:"tekst",minLength:1,selected:s,onChange:function(e){e[0]&&c("/tenancy/".concat(e[0].id))},options:t,placeholder:n("overview_navbar_placeholder_search"),renderMenuItemChildren:function(e){return Object(T.jsx)("span",{children:e.tekst})}})})},I=Object(a.lazy)((function(){return Promise.all([n.e(4),n.e(5)]).then(n.bind(null,168))})),L=Object(a.lazy)((function(){return Promise.all([n.e(3),n.e(6)]).then(n.bind(null,172))})),z=Object(a.lazy)((function(){return n.e(7).then(n.bind(null,171))})),D=Object(j.a)(p.a)(k||(k=Object(b.a)(["\n  width: 50px;\n  height: 50px;\n  border-radius: 50px;\n  position: fixed;\n  bottom: 20px;\n  right: 20px;\n"]))),P=function(){var e=Object(y.a)().t,t=Object(a.useContext)(l.d),n=t.tenancies,c=t.dispatch,r=Object(a.useState)(!0),d=Object(_.a)(r,2),b=d[0],j=d[1],p=Object(a.useState)(!1),g=Object(_.a)(p,2),m=g[0],x=g[1],S=Object(a.useRef)(!1);Object(a.useEffect)((function(){return S.current=!0,Object(O.d)().then((function(e){S.current&&(c({type:l.c,payload:e}),j(!1))})).catch((function(e){j(!1),console.log(e)})),function(){S.current=!1}}),[c]);return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)(h.a,{bg:"light",expand:"lg",children:[Object(T.jsx)(h.a.Brand,{className:"mr-auto",children:e("overview_navbar_brand")}),Object(T.jsx)(E,{}),Object(T.jsx)(N,{tenancies:n})]}),b&&Object(T.jsx)(f.a,{animation:"border",role:"status",children:Object(T.jsx)("span",{className:"sr-only",children:"Loading..."})}),!b&&n&&0===n.length&&Object(T.jsx)(i.a,{children:Object(T.jsx)(o.a,{children:Object(T.jsx)(s.a,{children:e("overview_you_have_no_tenancies")})})}),!b&&n&&n.length>0&&Object(T.jsx)(a.Suspense,{fallback:"",children:Object(T.jsxs)(u.c,{children:[Object(T.jsx)(u.a,{path:"tenancy/:id",element:Object(T.jsx)(L,{})}),Object(T.jsx)(u.a,{path:"*",element:Object(T.jsx)(z,{tenancies:n})})]})}),Object(T.jsx)(D,{onClick:function(){x(!0)},children:Object(T.jsx)(v.a,{})}),Object(T.jsx)(a.Suspense,{fallback:"loading...",children:m&&Object(T.jsx)(I,{hideModal:function(){x(!1)}})})]})};var F=function(){return Object(T.jsx)(d.a,{children:Object(T.jsx)(l.f,{children:Object(T.jsx)(i.a,{children:Object(T.jsx)(o.a,{children:Object(T.jsx)(s.a,{children:Object(T.jsx)(u.c,{children:Object(T.jsx)(u.a,{path:"*",element:Object(T.jsx)(P,{})})})})})})})})},B=function(e){e&&e instanceof Function&&n.e(8).then(n.bind(null,170)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};r.a.render(Object(T.jsx)(F,{}),document.getElementById("root")),B()},33:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return j}));var a=n(28),c=n(91),r=n(15),i=n(1),s=n(8),o="SET_TENANCIES",l="ADD_TENANCY",d="UPDATE_TENANCY",u="DELETE_TENANCY",_={tenancies:[]},b=function(e,t){switch(t.type){case o:return Object(r.a)(Object(r.a)({},e),{},{tenancies:t.payload});case l:return Object(r.a)(Object(r.a)({},e),{},{tenancies:[].concat(Object(c.a)(e.tenancies),[t.payload])});case d:return Object(r.a)(Object(r.a)({},e),{},{tenancies:e.tenancies.map((function(e){return e.id===t.payload.id?t.payload:e}))});case u:return Object(r.a)(Object(r.a)({},e),{},{tenancies:e.tenancies.filter((function(e){return e.id!==t.payload}))});default:return e}},j=Object(i.createContext)(Object(r.a)(Object(r.a)({},_),{},{dispatch:function(){return null}}));t.f=function(e){var t=e.children,n=Object(i.useReducer)(b,_),c=Object(a.a)(n,2),o=c[0],l=c[1];return Object(s.jsx)(j.Provider,{value:Object(r.a)(Object(r.a)({},o),{},{dispatch:l}),children:t})}},63:function(e,t,n){"use strict";n.d(t,"c",(function(){return b})),n.d(t,"e",(function(){return j})),n.d(t,"b",(function(){return h})),n.d(t,"d",(function(){return f})),n.d(t,"a",(function(){return p}));var a=n(24),c=n.n(a),r=n(15),i=n(38),s=n(94),o=n.n(s),l=n(51);n(155),n(154);l.a.initializeApp({apiKey:"AIzaSyDS1Th9ZSpB5S1eiPe4FT046Wc1PljDhYo",authDomain:"tenancies.firebaseapp.com",projectId:"tenancies",storageBucket:"tenancies.appspot.com",messagingSenderId:"447792445823",appId:"1:447792445823:web:2fa88d20bee035c3cc024a",measurementId:"G-L2EL2TGPQD"});var d=l.a.firestore,u=d();l.a.analytics();var _=u,b=function(e){var t=e.query,n=e.success,a=e.fail;o.a.get("https://api.dataforsyningen.dk/adgangsadresser/autocomplete?q="+escape(t)).then((function(e){200===e.status&&n(e.data)})).catch((function(e){a(e)}))},j=function(){var e=Object(i.a)(c.a.mark((function e(t,n){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(r.a)(Object(r.a)({},n),{},{updated:d.FieldValue.serverTimestamp()}),e.next=3,_.collection("tenancies").doc(t).update(a);case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),h=function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.collection("tenancies").doc(t).delete();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(i.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],n=_.collection("tenancies"),e.next=4,n.get();case 4:return e.sent.docs.forEach((function(e){t.push(e.data())})),e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(i.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(r.a)(Object(r.a)({},t),{},{created:d.FieldValue.serverTimestamp(),updated:d.FieldValue.serverTimestamp(),location:new d.GeoPoint(t.x,t.y)}),e.next=3,_.collection("tenancies").doc(t.id).set(n);case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},[[153,1,2]]]);
//# sourceMappingURL=main.de9f47d5.chunk.js.map