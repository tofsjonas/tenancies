(this.webpackJsonptenancies=this.webpackJsonptenancies||[]).push([[6],{172:function(e,t,n){"use strict";n.r(t);var c,a,i=n(28),r=n(44),s=n(1),o=n(10),l=n(42),b=n(33),j=n(45),d=n(46),O=n(41),u=n(43),_=n(167),h=n(62),f=n(169),m=n(160),x=n(164),p=n(15),y=n(163),g=n(63),v=n(166),k=n(8),w=function(e){var t=e.tenancy,n=Object(s.useRef)(!1),c=Object(m.a)().t,a=Object(s.useContext)(b.d).dispatch,r=Object(s.useState)(!1),o=Object(i.a)(r,2),l=o[0],j=o[1],d=t.size,O=t.nbr_of_rooms,_=t.tenant_information,f=t.utilities,x=Object(v.a)({defaultValues:{size:d,nbr_of_rooms:O,tenant_information:_,utilities:f}}),w=x.handleSubmit,z=x.register,I=x.formState,S=x.reset;Object(s.useEffect)((function(){return n.current=!0,function(){n.current=!1}}),[]);return Object(k.jsxs)(y.a,{onSubmit:w((function(e){console.log("FormData",e),j(!0),Object(g.e)(t.id,e).then((function(c){S(e);var i=Object(p.a)(Object(p.a)({},t),c);a({type:b.e,payload:i}),n.current&&j(!1)})).catch((function(e){n.current&&j(!1),console.log(e)}))})),children:[Object(k.jsxs)(y.a.Group,{controlId:"formBasicSize",children:[I.isDirty&&"APA",Object(k.jsx)(y.a.Label,{children:c("edit_tenancy_label_size")}),Object(k.jsx)(y.a.Control,Object(p.a)(Object(p.a)({},z("size")),{},{type:"number",step:"0.1",placeholder:c("edit_tenancy_label_size_placeholder")}))]}),Object(k.jsxs)(y.a.Group,{controlId:"formBasicNbrOfRooms",children:[Object(k.jsx)(y.a.Label,{children:c("edit_tenancy_label_nbr_of_rooms")}),Object(k.jsx)(y.a.Control,Object(p.a)(Object(p.a)({},z("nbr_of_rooms")),{},{defaultValue:t&&t.nbr_of_rooms,type:"number",step:"1",placeholder:c("edit_tenancy_label_nbr_of_rooms_placeholder")}))]}),Object(k.jsxs)(y.a.Group,{controlId:"formBasicUtilities",children:[Object(k.jsx)(y.a.Label,{children:c("edit_tenancy_label_utilities")}),Object(k.jsx)(y.a.Control,Object(p.a)(Object(p.a)({},z("utilities")),{},{defaultValue:t&&t.utilities,as:"textarea",rows:3,placeholder:c("edit_tenancy_label_utilities_placeholder")}))]}),Object(k.jsxs)(y.a.Group,{controlId:"formBasicTenantInformation",children:[Object(k.jsx)(y.a.Label,{children:c("edit_tenancy_label_tenant_information")}),Object(k.jsx)(y.a.Control,Object(p.a)(Object(p.a)({},z("tenant_information")),{},{defaultValue:t&&t.tenant_information,as:"textarea",rows:3,placeholder:c("edit_tenancy_label_tenant_information_placeholder")}))]}),Object(k.jsxs)(u.a,{variant:"primary",type:"submit",disabled:!I.isDirty||!I.isValid,children:[l&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(h.a,{animation:"border",role:"status",size:"sm"})," ",c("edit_tenancy_save_button_is_saving")]}),!l&&c("edit_tenancy_save_button")]})]})},z=n(47),I=Object(z.a)(_.a)(c||(c=Object(r.a)(["\n  ol {\n    background-color: transparent;\n  }\n"]))),S=Object(z.a)(j.a)(a||(a=Object(r.a)(["\n  img {\n    max-width: 85vw;\n  }\n  margin-bottom: 40px;\n"]))),C=function(e){var t=e.item,n="https://maps.googleapis.com/maps/api/streetview?size=400x400&location=".concat(t.y,",").concat(t.x,"&fov=70&pitch=0&key=").concat("AIzaSyDMRJ0PlQlYZP2iO0or1VPejkmA1vWm7JQ"),c=Object(m.a)().t,a=Object(s.useState)(!1),r=Object(i.a)(a,2),l=r[0],j=r[1],_=Object(s.useContext)(b.d).dispatch,p=Object(o.g)(),y=Object(s.useRef)(!1);Object(s.useEffect)((function(){return y.current=!0,function(){y.current=!1}}),[]);return Object(k.jsxs)(S,{children:[Object(k.jsx)(d.a,{children:Object(k.jsx)(O.a,{children:Object(k.jsx)("h1",{children:t.tekst})})}),Object(k.jsxs)(d.a,{children:[Object(k.jsx)(O.a,{lg:!0,children:Object(k.jsx)(x.a,{crossOrigin:"anonymous",width:"500",src:n,rounded:!0})}),Object(k.jsx)(O.a,{lg:!0,children:Object(k.jsx)(w,{tenancy:t})})]}),Object(k.jsx)(d.a,{children:Object(k.jsxs)(O.a,{children:[Object(k.jsx)("br",{}),Object(k.jsxs)(u.a,{variant:"danger",onClick:function(){j(!0),window.confirm("Are you sure?")?Object(g.b)(t.id).then((function(){_({type:b.b,payload:t.id}),p("tenancies"),y.current&&j(!1)})).catch((function(e){j(!1),console.log(e)})):j(!1)},children:[l&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(h.a,{animation:"border",role:"status",size:"sm"})," ",c("edit_tenancy_delete_button_is_deleting")]}),!l&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(f.a,{})," ",c("edit_tenancy_delete_button")]})]})]})})]})};t.default=function(){var e=Object(o.h)().id,t=Object(m.a)().t,n=Object(s.useContext)(b.d).tenancies,c=Object(s.useState)(null),a=Object(i.a)(c,2),r=a[0],u=a[1],h=Object(s.useState)(""),f=Object(i.a)(h,2),x=f[0],p=f[1];return Object(s.useEffect)((function(){var t=n.filter((function(t){return t.id===e}))[0];t?(p(""),u(t)):(u(null),p("Item not found :("))}),[n,e]),Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(I,{children:[Object(k.jsx)(_.a.Item,{linkAs:l.b,linkProps:{to:"/"},children:t("tenancy_item_breadcrumb_back_to_list")}),Object(k.jsxs)(_.a.Item,{active:!0,children:[x&&"ERROR",r&&r.tekst]})]}),x&&Object(k.jsx)(j.a,{children:Object(k.jsx)(d.a,{children:Object(k.jsx)(O.a,{children:x})})}),r&&Object(k.jsx)(C,{item:r})]})}}}]);
//# sourceMappingURL=6.4b1040fe.chunk.js.map