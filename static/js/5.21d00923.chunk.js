(this.webpackJsonptenancies=this.webpackJsonptenancies||[]).push([[5],{145:function(e,t,a){"use strict";a.r(t);var n,c=a(22),s=a(131),r=a(0),i=a(8),o=a(31),l=a(25),j=a(32),d=a(33),b=a(30),u=a(47),O=a(141),h=a(142),m=a(129),_=a(139),x=a(14),f=a(66),p=a(140),g=a(46),y=a(7),v=function(e){var t=e.tenancy,a=Object(m.a)().t,n=Object(r.useRef)(!1);Object(r.useEffect)((function(){return n.current=!0,function(){n.current=!1}}),[]);var s=Object(r.useContext)(l.c).dispatch,i=Object(r.useState)(!1),o=Object(c.a)(i,2),j=o[0],d=o[1];return Object(y.jsxs)(p.a,{onSubmit:function(e){e.preventDefault(),e.stopPropagation();for(var a={},c=e.target.querySelectorAll("input, textarea"),r=!1,i=0;i<c.length;i++){var o=c[i],j=o.value.trim();j.length&&(a[o.name]=j,r=!0)}var b=Object(x.a)(Object(x.a)({},t),{},{metadata:a});r||delete b.metadata,d(!0),Object(g.c)(b).then((function(e){s({type:l.d,payload:e}),n.current&&d(!1)})).catch((function(e){n.current&&d(!1),console.log(e)}))},children:[Object(y.jsxs)(p.a.Group,{controlId:"formBasicSize",children:[Object(y.jsx)(p.a.Label,{children:a("edit_tenancy_label_size")}),Object(y.jsx)(p.a.Control,{defaultValue:t.metadata&&t.metadata.size,name:"size",type:"number",step:"0.1",placeholder:a("edit_tenancy_label_size_placeholder")})]}),Object(y.jsxs)(p.a.Group,{controlId:"formBasicNbrOfRooms",children:[Object(y.jsx)(p.a.Label,{children:a("edit_tenancy_label_nbr_of_rooms")}),Object(y.jsx)(p.a.Control,{defaultValue:t.metadata&&t.metadata.nbr_of_rooms,name:"nbr_of_rooms",type:"number",step:"1",placeholder:a("edit_tenancy_label_nbr_of_rooms_placeholder")})]}),Object(y.jsxs)(p.a.Group,{controlId:"formBasicUtilities",children:[Object(y.jsx)(p.a.Label,{children:a("edit_tenancy_label_utilities")}),Object(y.jsx)(p.a.Control,{name:"utilities",defaultValue:t.metadata&&t.metadata.utilities,as:"textarea",rows:3,placeholder:a("edit_tenancy_label_utilities_placeholder")})]}),Object(y.jsxs)(p.a.Group,{controlId:"formBasicTenantInformation",children:[Object(y.jsx)(p.a.Label,{children:a("edit_tenancy_label_tenant_information")}),Object(y.jsx)(p.a.Control,{defaultValue:t.metadata&&t.metadata.tenant_information,name:"tenant_information",as:"textarea",rows:3,placeholder:a("edit_tenancy_label_tenant_information_placeholder")})]}),Object(y.jsxs)(u.a,{variant:"primary",type:"submit",children:[j&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(f.a,{animation:"border",role:"status",size:"sm",children:Object(y.jsx)("span",{className:"sr-only",children:"Loading..."})})," ",a("edit_tenancy_save_button_is_saving")]}),!j&&a("edit_tenancy_save_button")]})]})},k=a(132),I=Object(k.a)(O.a)(n||(n=Object(s.a)(["\n  ol {\n    background-color: transparent;\n  }\n"]))),w=function(e){var t=e.item,a="https://maps.googleapis.com/maps/api/streetview?size=400x400&location=".concat(t.adgangsadresse.y,",").concat(t.adgangsadresse.x,"&fov=70&pitch=0&key=").concat("AIzaSyDMRJ0PlQlYZP2iO0or1VPejkmA1vWm7JQ"),n=Object(r.useContext)(l.c).dispatch,c=Object(i.g)();return Object(y.jsxs)(j.a,{children:[Object(y.jsx)(d.a,{children:Object(y.jsx)(b.a,{children:Object(y.jsx)("h1",{children:t.tekst})})}),Object(y.jsxs)(d.a,{children:[Object(y.jsx)(b.a,{lg:!0,children:Object(y.jsx)(_.a,{crossOrigin:"anonymous",width:"500",height:"500",src:a,rounded:!0})}),Object(y.jsx)(b.a,{lg:!0,children:Object(y.jsx)(v,{tenancy:t})})]}),Object(y.jsx)(d.a,{children:Object(y.jsxs)(b.a,{children:[Object(y.jsx)("br",{}),Object(y.jsxs)(u.a,{variant:"danger",onClick:function(){window.confirm("Are you sure?")&&Object(g.a)(t.adgangsadresse.id).then((function(){n({type:l.a,payload:t.adgangsadresse.id}),c("tenancies")})).catch((function(e){console.log(e)}))},children:[Object(y.jsx)(h.a,{})," Delete Tenancy"]})]})})]})};t.default=function(){var e=Object(i.h)().id,t=Object(m.a)().t,a=Object(r.useContext)(l.c).tenancies,n=Object(r.useState)(null),s=Object(c.a)(n,2),u=s[0],h=s[1],_=Object(r.useState)(""),x=Object(c.a)(_,2),f=x[0],p=x[1];return Object(r.useEffect)((function(){var t=a.filter((function(t){return t.adgangsadresse.id===e}))[0];t?h(t):p("Item not found :(")}),[a,e]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(I,{children:[Object(y.jsx)(O.a.Item,{linkAs:o.b,linkProps:{to:"/"},children:t("tenancy_item_breadcrumb_back_to_list")}),Object(y.jsxs)(O.a.Item,{active:!0,children:[f&&"ERROR",u&&u.tekst]})]}),f&&Object(y.jsx)(j.a,{children:Object(y.jsx)(d.a,{children:Object(y.jsx)(b.a,{children:f})})}),u&&Object(y.jsx)(w,{item:u})]})}}}]);
//# sourceMappingURL=5.21d00923.chunk.js.map