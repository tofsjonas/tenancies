(this.webpackJsonptenancies=this.webpackJsonptenancies||[]).push([[6],{159:function(e,t,a){"use strict";a.r(t);var n,c,s=a(21),r=a(36),i=a(0),o=a(8),l=a(34),j=a(26),d=a(37),b=a(38),u=a(33),O=a(35),m=a(154),h=a(156),_=a(148),x=a(152),f=a(14),p=a(56),g=a(151),y=a(53),v=a(5),k=function(e){var t=e.tenancy,a=Object(_.a)().t,n=Object(i.useRef)(!1);Object(i.useEffect)((function(){return n.current=!0,function(){n.current=!1}}),[]);var c=Object(i.useContext)(j.d).dispatch,r=Object(i.useState)(!1),o=Object(s.a)(r,2),l=o[0],d=o[1];return Object(v.jsxs)(g.a,{onSubmit:function(e){e.preventDefault(),e.stopPropagation();for(var a={},s=e.target.querySelectorAll("input, textarea"),r=!1,i=0;i<s.length;i++){var o=s[i],l=o.value.trim();l.length&&(a[o.name]=l,r=!0)}var b=Object(f.a)(Object(f.a)({},t),{},{metadata:a});r||delete b.metadata,d(!0),Object(y.e)(b).then((function(e){c({type:j.e,payload:e}),n.current&&d(!1)})).catch((function(e){n.current&&d(!1),console.log(e)}))},children:[Object(v.jsxs)(g.a.Group,{controlId:"formBasicSize",children:[Object(v.jsx)(g.a.Label,{children:a("edit_tenancy_label_size")}),Object(v.jsx)(g.a.Control,{defaultValue:t.metadata&&t.metadata.size,name:"size",type:"number",step:"0.1",placeholder:a("edit_tenancy_label_size_placeholder")})]}),Object(v.jsxs)(g.a.Group,{controlId:"formBasicNbrOfRooms",children:[Object(v.jsx)(g.a.Label,{children:a("edit_tenancy_label_nbr_of_rooms")}),Object(v.jsx)(g.a.Control,{defaultValue:t.metadata&&t.metadata.nbr_of_rooms,name:"nbr_of_rooms",type:"number",step:"1",placeholder:a("edit_tenancy_label_nbr_of_rooms_placeholder")})]}),Object(v.jsxs)(g.a.Group,{controlId:"formBasicUtilities",children:[Object(v.jsx)(g.a.Label,{children:a("edit_tenancy_label_utilities")}),Object(v.jsx)(g.a.Control,{name:"utilities",defaultValue:t.metadata&&t.metadata.utilities,as:"textarea",rows:3,placeholder:a("edit_tenancy_label_utilities_placeholder")})]}),Object(v.jsxs)(g.a.Group,{controlId:"formBasicTenantInformation",children:[Object(v.jsx)(g.a.Label,{children:a("edit_tenancy_label_tenant_information")}),Object(v.jsx)(g.a.Control,{defaultValue:t.metadata&&t.metadata.tenant_information,name:"tenant_information",as:"textarea",rows:3,placeholder:a("edit_tenancy_label_tenant_information_placeholder")})]}),Object(v.jsxs)(O.a,{variant:"primary",type:"submit",children:[l&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(p.a,{animation:"border",role:"status",size:"sm",children:Object(v.jsx)("span",{className:"sr-only",children:"Loading..."})})," ",a("edit_tenancy_save_button_is_saving")]}),!l&&a("edit_tenancy_save_button")]})]})},w=a(39),I=Object(w.a)(m.a)(n||(n=Object(r.a)(["\n  ol {\n    background-color: transparent;\n  }\n"]))),z=Object(w.a)(d.a)(c||(c=Object(r.a)(["\n  img {\n    max-width: 85vw;\n  }\n  margin-bottom: 40px;\n"]))),C=function(e){var t=e.item,a="https://maps.googleapis.com/maps/api/streetview?size=400x400&location=".concat(t.adgangsadresse.y,",").concat(t.adgangsadresse.x,"&fov=70&pitch=0&key=").concat("AIzaSyDMRJ0PlQlYZP2iO0or1VPejkmA1vWm7JQ"),n=Object(i.useContext)(j.d).dispatch,c=Object(o.g)();return Object(v.jsxs)(z,{children:[Object(v.jsx)(b.a,{children:Object(v.jsx)(u.a,{children:Object(v.jsx)("h1",{children:t.tekst})})}),Object(v.jsxs)(b.a,{children:[Object(v.jsx)(u.a,{lg:!0,children:Object(v.jsx)(x.a,{crossOrigin:"anonymous",width:"500",src:a,rounded:!0})}),Object(v.jsx)(u.a,{lg:!0,children:Object(v.jsx)(k,{tenancy:t})})]}),Object(v.jsx)(b.a,{children:Object(v.jsxs)(u.a,{children:[Object(v.jsx)("br",{}),Object(v.jsxs)(O.a,{variant:"danger",onClick:function(){window.confirm("Are you sure?")&&Object(y.b)(t.adgangsadresse.id).then((function(){n({type:j.b,payload:t.adgangsadresse.id}),c("tenancies")})).catch((function(e){console.log(e)}))},children:[Object(v.jsx)(h.a,{})," Delete Tenancy"]})]})})]})};t.default=function(){var e=Object(o.h)().id,t=Object(_.a)().t,a=Object(i.useContext)(j.d).tenancies,n=Object(i.useState)(null),c=Object(s.a)(n,2),r=c[0],O=c[1],h=Object(i.useState)(""),x=Object(s.a)(h,2),f=x[0],p=x[1];return Object(i.useEffect)((function(){var t=a.filter((function(t){return t.adgangsadresse.id===e}))[0];t?(p(""),O(t)):(O(null),p("Item not found :("))}),[a,e]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(I,{children:[Object(v.jsx)(m.a.Item,{linkAs:l.b,linkProps:{to:"/"},children:t("tenancy_item_breadcrumb_back_to_list")}),Object(v.jsxs)(m.a.Item,{active:!0,children:[f&&"ERROR",r&&r.tekst]})]}),f&&Object(v.jsx)(d.a,{children:Object(v.jsx)(b.a,{children:Object(v.jsx)(u.a,{children:f})})}),r&&Object(v.jsx)(C,{item:r})]})}}}]);
//# sourceMappingURL=6.d0b317b4.chunk.js.map