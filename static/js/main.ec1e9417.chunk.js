(this.webpackJsonptenancies=this.webpackJsonptenancies||[]).push([[0],{13:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return f}));var c=n(16),a=n(51),r=n(8),i=n(0),s=n(2),u="SET_TENANCIES",o="ADD_TENANCY",d="DELETE_TENANCY",j={tenancies:[]},l=function(e,t){switch(t.type){case u:return Object(r.a)(Object(r.a)({},e),{},{tenancies:t.payload});case o:return Object(r.a)(Object(r.a)({},e),{},{tenancies:[].concat(Object(a.a)(e.tenancies),[t.payload])});case d:return Object(r.a)(Object(r.a)({},e),{},{tenancies:e.tenancies.filter((function(e){return e.adgangsadresse.id!==t.payload}))});default:return e}},f=Object(i.createContext)(Object(r.a)(Object(r.a)({},j),{},{dispatch:function(){return null}}));t.e=function(e){var t=e.children,n=Object(i.useReducer)(l,j),a=Object(c.a)(n,2),u=a[0],o=a[1];return Object(s.jsx)(f.Provider,{value:Object(r.a)(Object(r.a)({},u),{},{dispatch:o}),children:t})}},25:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return j}));var c=n(11),a=n.n(c),r=n(21),i=n(49),s=n.n(i),u=function(e){var t=e.query,n=e.success,c=e.fail;s.a.get("http://localhost:3000/testdata.json?"+escape(t)).then((function(e){200===e.status&&n(e.data)})).catch((function(e){c(e)}))},o=function(){var e=Object(r.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){var n=localStorage.getItem("tenancies")||"[]";try{var c=JSON.parse(n);setTimeout((function(){e(c)}),200)}catch(a){localStorage.setItem("tenancies",""),t(new Error("Data corrupt, resetting!"))}})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(r.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var c=localStorage.getItem("tenancies")||"[]";try{var a=JSON.parse(c);a.push(t),localStorage.setItem("tenancies",JSON.stringify(a)),setTimeout((function(){e(t)}),600)}catch(r){n(r)}})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(r.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var c=localStorage.getItem("tenancies")||"[]";try{var a=JSON.parse(c).filter((function(e){return e.adgangsadresse.id!==t}));localStorage.setItem("tenancies",JSON.stringify(a)),setTimeout((function(){e()}),200)}catch(r){n(r)}})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},58:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var c,a=n(0),r=n(12),i=n.n(r),s=(n(58),n(20)),u=n(14),o=n(18),d=n(16),j=n(47),l=n(50),f=n(26),b=n(27),h=n(44),O=n(86),p=n(87),g=n(25),x=n(13),m=n(2),v=Object(a.lazy)((function(){return Promise.all([n.e(3),n.e(4)]).then(n.bind(null,133))})),y=Object(l.a)(f.a)(c||(c=Object(j.a)(["\n  width: 50px;\n  height: 50px;\n  border-radius: 50px;\n  position: fixed;\n  bottom: 20px;\n  right: 20px;\n"]))),S=function(){var e=Object(a.useContext)(x.d),t=e.tenancies,n=e.dispatch,c=Object(a.useState)(!0),r=Object(d.a)(c,2),i=r[0],j=r[1],l=Object(a.useState)(!1),S=Object(d.a)(l,2),w=S[0],N=S[1],E=Object(a.useRef)(!1);Object(a.useEffect)((function(){return E.current=!0,Object(g.d)().then((function(e){E.current&&(n({type:x.c,payload:e}),j(!1))})).catch((function(e){j(!1),console.log(e)})),function(){E.current=!1}}),[]);return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(b.a,{bg:"light",expand:"lg",children:Object(m.jsx)(b.a.Brand,{children:"My Addresses"})}),Object(m.jsxs)(s.a,{fluid:"md",children:[i&&Object(m.jsx)(h.a,{animation:"border",role:"status",children:Object(m.jsx)("span",{className:"sr-only",children:"Loading..."})}),!i&&t&&t.length>0&&t.map((function(e){return Object(m.jsxs)(o.a,{className:"mt-1 align-items-center",children:[Object(m.jsx)(u.a,{children:e.tekst}),Object(m.jsx)(u.a,{md:"auto",children:Object(m.jsx)(f.a,{variant:"danger",onClick:function(){var t;t=e.adgangsadresse.id,window.confirm("Are you sure?")&&Object(g.b)(t).then((function(){n({type:x.b,payload:t})})).catch((function(e){console.log(e)}))},children:Object(m.jsx)(O.a,{})})})]},e.tekst)})),!i&&t&&0===t.length&&Object(m.jsx)(o.a,{children:Object(m.jsx)(u.a,{children:"You have no tenancies, go ahead and add one!"})})]}),Object(m.jsx)(y,{onClick:function(){N(!0)},children:Object(m.jsx)(p.a,{})}),Object(m.jsx)(a.Suspense,{fallback:"loading...",children:w&&Object(m.jsx)(v,{hideModal:function(){N(!1)}})})]})};var w=function(){return Object(m.jsx)(x.e,{children:Object(m.jsx)(s.a,{children:Object(m.jsx)(o.a,{children:Object(m.jsx)(u.a,{children:Object(m.jsx)(S,{})})})})})},N=function(e){e&&e instanceof Function&&n.e(5).then(n.bind(null,134)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))};i.a.render(Object(m.jsx)(w,{}),document.getElementById("root")),N()}},[[83,1,2]]]);
//# sourceMappingURL=main.ec1e9417.chunk.js.map