(this.webpackJsonptenancies=this.webpackJsonptenancies||[]).push([[6],{161:function(e,t,a){"use strict";a.r(t);var n,c,s=a(21),i=a(36),r=a(0),o=a(8),l=a(34),j=a(26),b=a(37),d=a(38),O=a(33),u=a(35),h=a(156),_=a(158),m=a(149),x=a(153),f=a(14),p=a(56),y=a(152),g=a(53),v=a(155),k=a(5),w=function(e){var t=e.tenancy,a=Object(m.a)().t,n=Object(r.useRef)(!1),c=Object(v.a)({defaultValues:t.metadata||{}}),i=c.handleSubmit,o=c.register,l=c.formState;Object(r.useEffect)((function(){return n.current=!0,function(){n.current=!1}}),[]);var b=Object(r.useContext)(j.d).dispatch,d=Object(r.useState)(!1),O=Object(s.a)(d,2),h=O[0],_=O[1];return Object(k.jsxs)(y.a,{onSubmit:i((function(e){_(!0);var a=Object(f.a)(Object(f.a)({},t),{},{metadata:e});Object(g.e)(a).then((function(e){b({type:j.e,payload:e}),n.current&&_(!1)})).catch((function(e){n.current&&_(!1),console.log(e)}))})),children:[Object(k.jsxs)(y.a.Group,{controlId:"formBasicSize",children:[l.isDirty&&"APA",Object(k.jsx)(y.a.Label,{children:a("edit_tenancy_label_size")}),Object(k.jsx)(y.a.Control,Object(f.a)(Object(f.a)({},o("size")),{},{type:"number",step:"0.1",placeholder:a("edit_tenancy_label_size_placeholder")}))]}),Object(k.jsxs)(y.a.Group,{controlId:"formBasicNbrOfRooms",children:[Object(k.jsx)(y.a.Label,{children:a("edit_tenancy_label_nbr_of_rooms")}),Object(k.jsx)(y.a.Control,Object(f.a)(Object(f.a)({},o("nbr_of_rooms")),{},{defaultValue:t.metadata&&t.metadata.nbr_of_rooms,type:"number",step:"1",placeholder:a("edit_tenancy_label_nbr_of_rooms_placeholder")}))]}),Object(k.jsxs)(y.a.Group,{controlId:"formBasicUtilities",children:[Object(k.jsx)(y.a.Label,{children:a("edit_tenancy_label_utilities")}),Object(k.jsx)(y.a.Control,Object(f.a)(Object(f.a)({},o("utilities")),{},{defaultValue:t.metadata&&t.metadata.utilities,as:"textarea",rows:3,placeholder:a("edit_tenancy_label_utilities_placeholder")}))]}),Object(k.jsxs)(y.a.Group,{controlId:"formBasicTenantInformation",children:[Object(k.jsx)(y.a.Label,{children:a("edit_tenancy_label_tenant_information")}),Object(k.jsx)(y.a.Control,Object(f.a)(Object(f.a)({},o("tenant_information")),{},{defaultValue:t.metadata&&t.metadata.tenant_information,as:"textarea",rows:3,placeholder:a("edit_tenancy_label_tenant_information_placeholder")}))]}),Object(k.jsxs)(u.a,{variant:"primary",type:"submit",disabled:!l.isDirty,children:[h&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(p.a,{animation:"border",role:"status",size:"sm",children:Object(k.jsx)("span",{className:"sr-only",children:"Loading..."})})," ",a("edit_tenancy_save_button_is_saving")]}),!h&&a("edit_tenancy_save_button")]})]})},I=a(39),C=Object(I.a)(h.a)(n||(n=Object(i.a)(["\n  ol {\n    background-color: transparent;\n  }\n"]))),S=Object(I.a)(b.a)(c||(c=Object(i.a)(["\n  img {\n    max-width: 85vw;\n  }\n  margin-bottom: 40px;\n"]))),z=function(e){var t=e.item,a="https://maps.googleapis.com/maps/api/streetview?size=400x400&location=".concat(t.adgangsadresse.y,",").concat(t.adgangsadresse.x,"&fov=70&pitch=0&key=").concat("AIzaSyDMRJ0PlQlYZP2iO0or1VPejkmA1vWm7JQ"),n=Object(r.useContext)(j.d).dispatch,c=Object(o.g)();return Object(k.jsxs)(S,{children:[Object(k.jsx)(d.a,{children:Object(k.jsx)(O.a,{children:Object(k.jsx)("h1",{children:t.tekst})})}),Object(k.jsxs)(d.a,{children:[Object(k.jsx)(O.a,{lg:!0,children:Object(k.jsx)(x.a,{crossOrigin:"anonymous",width:"500",src:a,rounded:!0})}),Object(k.jsx)(O.a,{lg:!0,children:Object(k.jsx)(w,{tenancy:t})})]}),Object(k.jsx)(d.a,{children:Object(k.jsxs)(O.a,{children:[Object(k.jsx)("br",{}),Object(k.jsxs)(u.a,{variant:"danger",onClick:function(){window.confirm("Are you sure?")&&Object(g.b)(t.adgangsadresse.id).then((function(){n({type:j.b,payload:t.adgangsadresse.id}),c("tenancies")})).catch((function(e){console.log(e)}))},children:[Object(k.jsx)(_.a,{})," Delete Tenancy"]})]})})]})};t.default=function(){var e=Object(o.h)().id,t=Object(m.a)().t,a=Object(r.useContext)(j.d).tenancies,n=Object(r.useState)(null),c=Object(s.a)(n,2),i=c[0],u=c[1],_=Object(r.useState)(""),x=Object(s.a)(_,2),f=x[0],p=x[1];return Object(r.useEffect)((function(){var t=a.filter((function(t){return t.adgangsadresse.id===e}))[0];t?(p(""),u(t)):(u(null),p("Item not found :("))}),[a,e]),Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(C,{children:[Object(k.jsx)(h.a.Item,{linkAs:l.b,linkProps:{to:"/"},children:t("tenancy_item_breadcrumb_back_to_list")}),Object(k.jsxs)(h.a.Item,{active:!0,children:[f&&"ERROR",i&&i.tekst]})]}),f&&Object(k.jsx)(b.a,{children:Object(k.jsx)(d.a,{children:Object(k.jsx)(O.a,{children:f})})}),i&&Object(k.jsx)(z,{item:i})]})}}}]);
//# sourceMappingURL=6.4ce4219c.chunk.js.map